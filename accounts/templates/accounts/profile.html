{% extends 'accounts/base.html' %}

{% block title %}Mijn Profiel{% endblock %}

{% block content %}
<div class="container mt-4 mb-4"> {# Minder marge boven, meer consistent #}
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card shadow-sm"> {# Subtielere shadow #}
        <div class="card-header d-flex justify-content-between align-items-center">
          <h1 class="h5 mb-0">Mijn Profiel</h1> {# h5 voor consistentie met andere headers #}
           {# Knop direct naar bewerken in header #}
           <a href="{% url 'accounts:edit_profile' %}" class="btn btn-sm btn-outline-secondary" title="Profiel bewerken">
              <i class="bi bi-pencil-square"></i> Bewerken
           </a>
        </div>
        <div class="card-body">
          {# Gebruik definition list voor betere structuur #}
          <dl class="row mb-4">
            <dt class="col-sm-3">Initialen:</dt>
            <dd class="col-sm-9">{{ user.initials|default:"-" }}</dd>

            <dt class="col-sm-3">Voornaam:</dt>
            <dd class="col-sm-9">{{ user.first_name|default:"-" }}</dd>

            <dt class="col-sm-3">Achternaam:</dt>
            <dd class="col-sm-9">{{ user.last_name|default:"-" }}</dd>

            <dt class="col-sm-3">E-mail:</dt>
            <dd class="col-sm-9">{{ user.email }}</dd>

            <dt class="col-sm-3">Partij/Organisatie:</dt>
            <dd class="col-sm-9">{{ user.party|default:"-" }}</dd>
          </dl>

          {# Andere acties #}
          <h2 class="h6">Acties</h2>
          <div class="d-flex flex-column flex-sm-row gap-2 align-items-start align-items-sm-center">
             {# Wachtwoord reset link #}
            <a href="{% url 'accounts:password_reset' %}" class="btn btn-sm btn-outline-secondary">
                <i class="bi bi-key"></i> Wachtwoord opnieuw instellen
            </a>

            {# E-mail test knop (binnen form) #}
            <form method="post" action="{% url 'accounts:email_profile_info' %}" class="mb-0"> {# mb-0 om extra marge te voorkomen #}
              {% csrf_token %}
              <button type="submit" class="btn btn-sm btn-outline-secondary" title="Stuur een test e-mail met profielgegevens">
                  <i class="bi bi-envelope-at"></i> Stuur profielinfo (test)
              </button>
            </form>
            {# Einde E-mail test knop #}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}